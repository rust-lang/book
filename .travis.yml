sudo: false
language: rust
rust:
  - stable
  - beta
  - nightly
matrix:
  allow_failures:
    - rust: nightly
cache: cargo
branches:
  only:
  - master
before_script:
  - (cargo install mdbook --git https://github.com/azerupi/mdBook.git --force || true)
script:
  - bash ci/build.sh
after_success:
  - test $TRAVIS_PULL_REQUEST == "false" && test $TRAVIS_BRANCH == "master" && bash ci/deploy.sh
notifications:
    slack: codelessfuture:8kL7Eeu3BpX8hi2hc2ZQaWMD
