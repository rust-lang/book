# المقدمة

> ملاحظة: هذه النسخة من الكتاب هي نفسها [لغة البرمجة Rust][nsprust] المتاحة بصيغة مطبوعة وإلكترونية من [No Starch Press][nsp].

[nsprust]: https://nostarch.com/rust-programming-language-3rd-edition
[nsp]: https://nostarch.com/

مرحبًا بك في _لغة البرمجة Rust_، وهو كتاب تمهيدي عن Rust.
تساعدك لغة البرمجة Rust على كتابة برمجيات أسرع وأكثر موثوقية.
غالبًا ما تكون سهولة الاستخدام عالية المستوى والتحكم منخفض المستوى متعارضتين في تصميم لغات البرمجة؛ تتحدى Rust هذا الصراع. من خلال الموازنة بين القدرة التقنية القوية وتجربة مطور رائعة، تمنحك Rust خيار التحكم في التفاصيل منخفضة المستوى (مثل استخدام الذاكرة) دون كل المتاعب المرتبطة تقليديًا بهذا التحكم.

## لمن صُممت Rust

Rust مثالية للكثير من الأشخاص لأسباب متنوعة. دعنا نلقي نظرة على بعض من أهم المجموعات.

### فرق المطورين

تثبت Rust أنها أداة إنتاجية للتعاون بين فرق كبيرة من المطورين ذوي مستويات متفاوتة من معرفة برمجة الأنظمة. الكود منخفض المستوى عرضة لأخطاء دقيقة متنوعة، والتي في معظم اللغات الأخرى لا يمكن اكتشافها إلا من خلال اختبارات مكثفة ومراجعة دقيقة للكود من قبل مطورين ذوي خبرة. في Rust، يلعب المترجم دور حارس البوابة برفضه تجميع الكود الذي يحتوي على هذه الأخطاء الخفية، بما في ذلك أخطاء التزامن. من خلال العمل جنبًا إلى جنب مع المترجم، يمكن للفريق قضاء وقته في التركيز على منطق البرنامج بدلاً من تعقب الأخطاء.

تجلب Rust أيضًا أدوات المطورين المعاصرة إلى عالم برمجة الأنظمة:

- Cargo، مدير التبعيات وأداة البناء المضمنة، تجعل إضافة وتجميع وإدارة التبعيات سهلة ومتسقة عبر نظام Rust البيئي.
- أداة التنسيق `rustfmt` تضمن أسلوب برمجة متسق عبر المطورين.
- خادم لغة Rust يدعم تكامل بيئة التطوير المتكاملة (IDE) لإكمال الكود ورسائل الخطأ المضمنة.

باستخدام هذه الأدوات وغيرها في نظام Rust البيئي، يمكن للمطورين أن يكونوا منتجين أثناء كتابة كود على مستوى الأنظمة.

### الطلاب

Rust موجهة للطلاب وأولئك المهتمين بتعلم مفاهيم الأنظمة. باستخدام Rust، تعلم الكثير من الأشخاص عن موضوعات مثل تطوير أنظمة التشغيل. المجتمع ترحيبي للغاية وسعيد بالإجابة على أسئلة الطلاب. من خلال جهود مثل هذا الكتاب، تريد فرق Rust جعل مفاهيم الأنظمة أكثر سهولة في الوصول للمزيد من الأشخاص، خاصة أولئك الجدد في البرمجة.

### الشركات

تستخدم مئات الشركات، الكبيرة والصغيرة، Rust في الإنتاج لمجموعة متنوعة من المهام، بما في ذلك أدوات سطر الأوامر، وخدمات الويب، وأدوات DevOps، والأجهزة المدمجة، وتحليل الصوت والفيديو وتحويلها، والعملات المشفرة، والمعلوماتية الحيوية، ومحركات البحث، وتطبيقات إنترنت الأشياء، والتعلم الآلي، وحتى أجزاء رئيسية من متصفح الويب Firefox.

### مطورو المصادر المفتوحة

Rust موجهة للأشخاص الذين يريدون بناء لغة البرمجة Rust، والمجتمع، وأدوات المطورين، والمكتبات. نحن نحب أن نراك تساهم في لغة Rust.

### الأشخاص الذين يقدرون السرعة والاستقرار

Rust موجهة للأشخاص الذين يتوقون للسرعة والاستقرار في اللغة. بالسرعة، نعني كلاً من مدى سرعة تشغيل كود Rust والسرعة التي تتيح لك Rust بها كتابة البرامج. فحوصات مترجم Rust تضمن الاستقرار من خلال إضافة الميزات وإعادة الهيكلة. هذا يتناقض مع الكود القديم الهش في اللغات التي لا تحتوي على هذه الفحوصات، والذي غالبًا ما يخشى المطورون تعديله. من خلال السعي للحصول على تجريدات بدون تكلفة - ميزات عالية المستوى تُجمع إلى كود منخفض المستوى بنفس سرعة الكود المكتوب يدويًا - تسعى Rust لجعل الكود الآمن كودًا سريعًا أيضًا.

تأمل لغة Rust في دعم العديد من المستخدمين الآخرين أيضًا؛ المذكورون هنا هم فقط بعض من أكبر أصحاب المصلحة. بشكل عام، أكبر طموح لـ Rust هو إلغاء المقايضات التي قبلها المبرمجون لعقود من خلال توفير الأمان _والإنتاجية_، والسرعة _وسهولة الاستخدام_. جرب Rust، وانظر إذا كانت خياراتها تناسبك.

## لمن هذا الكتاب

يفترض هذا الكتاب أنك كتبت كودًا بلغة برمجة أخرى، لكنه لا يفترض أي شيء عن أيها. لقد حاولنا جعل المادة قابلة للوصول بشكل واسع لأولئك من مجموعة متنوعة من خلفيات البرمجة. لا نقضي الكثير من الوقت في الحديث عن _ماهية_ البرمجة أو كيفية التفكير فيها. إذا كنت جديدًا تمامًا على البرمجة، فستكون في وضع أفضل بقراءة كتاب يوفر على وجه التحديد مقدمة للبرمجة.

## كيفية استخدام هذا الكتاب

بشكل عام، يفترض هذا الكتاب أنك تقرأه بالتسلسل من الأمام إلى الخلف. تبني الفصول اللاحقة على المفاهيم في الفصول السابقة، وقد لا تتعمق الفصول السابقة في تفاصيل موضوع معين ولكنها ستعيد النظر في الموضوع في فصل لاحق.

ستجد نوعين من الفصول في هذا الكتاب: فصول المفاهيم وفصول المشاريع. في فصول المفاهيم، ستتعلم عن جانب من جوانب Rust. في فصول المشاريع، سنبني برامج صغيرة معًا، مطبقين ما تعلمته حتى الآن. الفصل 2 والفصل 12 والفصل 21 هي فصول مشاريع؛ الباقي فصول مفاهيم.

**الفصل 1** يشرح كيفية تثبيت Rust، وكيفية كتابة برنامج "مرحبًا، بالعالم!"، وكيفية استخدام Cargo، مدير الحزم وأداة البناء في Rust. **الفصل 2** هو مقدمة عملية لكتابة برنامج في Rust، حيث ستبني لعبة تخمين الأرقام. هنا، نغطي المفاهيم على مستوى عالٍ، وستوفر الفصول اللاحقة تفاصيل إضافية. إذا كنت ترغب في البدء عمليًا على الفور، فإن الفصل 2 هو المكان المناسب لذلك. إذا كنت متعلمًا دقيقًا بشكل خاص يفضل تعلم كل التفاصيل قبل الانتقال إلى التالي، فقد ترغب في تخطي الفصل 2 والذهاب مباشرة إلى **الفصل 3**، الذي يغطي ميزات Rust المشابهة لتلك الموجودة في لغات البرمجة الأخرى؛ ثم يمكنك العودة إلى الفصل 2 عندما ترغب في العمل على مشروع تطبق فيه التفاصيل التي تعلمتها.

في **الفصل 4**، ستتعلم عن نظام الملكية في Rust. **الفصل 5** يناقش البنيات والطرق. **الفصل 6** يغطي التعدادات، وتعبيرات `match`، وبنيات التحكم في التدفق `if let` و `let...else`. ستستخدم البنيات والتعدادات لإنشاء أنواع مخصصة.

في **الفصل 7**، ستتعلم عن نظام الوحدات في Rust وعن قواعد الخصوصية لتنظيم كودك وواجهة برمجة التطبيقات العامة (API). **الفصل 8** يناقش بعض هياكل بيانات المجموعات الشائعة التي توفرها المكتبة القياسية: المتجهات، والسلاسل النصية، وخرائط التجزئة. **الفصل 9** يستكشف فلسفة وتقنيات معالجة الأخطاء في Rust.

**الفصل 10** يتعمق في الأنواع العامة، والسمات، وأوقات الحياة، والتي تمنحك القدرة على تعريف كود ينطبق على أنواع متعددة. **الفصل 11** كله عن الاختبار، والذي حتى مع ضمانات الأمان في Rust ضروري لضمان أن منطق برنامجك صحيح. في **الفصل 12**، سنبني تطبيقنا الخاص لمجموعة فرعية من الوظائف من أداة سطر الأوامر `grep` التي تبحث عن نص داخل الملفات. لهذا، سنستخدم العديد من المفاهيم التي ناقشناها في الفصول السابقة.

**الفصل 13** يستكشف الإغلاقات والمكررات: ميزات Rust التي تأتي من لغات البرمجة الوظيفية. في **الفصل 14**، سنفحص Cargo بمزيد من العمق ونتحدث عن أفضل الممارسات لمشاركة مكتباتك مع الآخرين. **الفصل 15** يناقش المؤشرات الذكية التي توفرها المكتبة القياسية والسمات التي تمكن وظائفها.

في **الفصل 16**، سنمر بنماذج مختلفة من البرمجة المتزامنة ونتحدث عن كيفية مساعدة Rust لك في البرمجة في خيوط متعددة دون خوف. في **الفصل 17**، نبني على ذلك من خلال استكشاف بناء جملة async و await في Rust، إلى جانب المهام، والمستقبليات، والتدفقات، ونموذج التزامن خفيف الوزن الذي تمكّنه.

**الفصل 18** يلقي نظرة على كيفية مقارنة أساليب Rust بمبادئ البرمجة كائنية التوجه التي قد تكون على دراية بها. **الفصل 19** هو مرجع عن الأنماط ومطابقة الأنماط، وهي طرق قوية للتعبير عن الأفكار في جميع برامج Rust. **الفصل 20** يحتوي على مجموعة متنوعة من الموضوعات المتقدمة ذات الاهتمام، بما في ذلك Rust غير الآمنة، والماكروهات، والمزيد عن أوقات الحياة، والسمات، والأنواع، والدوال، والإغلاقات.

في **الفصل 21**، سنكمل مشروعًا حيث سننفذ خادم ويب منخفض المستوى متعدد الخيوط!

أخيرًا، تحتوي بعض الملاحق على معلومات مفيدة عن اللغة بتنسيق أشبه بالمرجع. **الملحق A** يغطي الكلمات المفتاحية في Rust، **الملحق B** يغطي العوامل والرموز في Rust، **الملحق C** يغطي السمات القابلة للاشتقاق التي توفرها المكتبة القياسية، **الملحق D** يغطي بعض أدوات التطوير المفيدة، و**الملحق E** يشرح إصدارات Rust. في **الملحق F**، يمكنك العثور على ترجمات الكتاب، وفي **الملحق G** سنغطي كيفية صنع Rust وما هي Rust الليلية.

لا توجد طريقة خاطئة لقراءة هذا الكتاب: إذا كنت ترغب في التخطي إلى الأمام، فافعل ذلك! قد تضطر إلى القفز مرة أخرى إلى الفصول السابقة إذا واجهت أي ارتباك. ولكن افعل ما يناسبك.

<span id="ferris"></span>

جزء مهم من عملية تعلم Rust هو تعلم كيفية قراءة رسائل الخطأ التي يعرضها المترجم: هذه ستوجهك نحو كود عامل. على هذا النحو، سنقدم العديد من الأمثلة التي لا تُجمع مع رسالة الخطأ التي سيعرضها لك المترجم في كل حالة. اعلم أنه إذا أدخلت وشغلت مثالًا عشوائيًا، فقد لا يُجمع! تأكد من قراءة النص المحيط لمعرفة ما إذا كان المثال الذي تحاول تشغيله من المفترض أن يحدث فيه خطأ. في معظم الحالات، سنوجهك إلى الإصدار الصحيح من أي كود لا يُجمع. سيساعدك Ferris أيضًا على تمييز الكود الذي لا يُفترض أن يعمل:

| Ferris                                                                                                           | المعنى                                    |
| ---------------------------------------------------------------------------------------------------------------- | ---------------------------------------- |
| <img src="img/ferris/does_not_compile.svg" class="ferris-explain" alt="Ferris with a question mark"/>            | هذا الكود لا يُجمع!                      |
| <img src="img/ferris/panics.svg" class="ferris-explain" alt="Ferris throwing up their hands"/>                   | هذا الكود يتسبب في panic!                |
| <img src="img/ferris/not_desired_behavior.svg" class="ferris-explain" alt="Ferris with one claw up, shrugging"/> | هذا الكود لا ينتج السلوك المطلوب.         |

في معظم الحالات، سنوجهك إلى الإصدار الصحيح من أي كود لا يُجمع.

## الكود المصدري

يمكن العثور على الملفات المصدرية التي يُنشأ منها هذا الكتاب على [GitHub][book].

[book]: https://github.com/rust-lang/book/tree/main/src
