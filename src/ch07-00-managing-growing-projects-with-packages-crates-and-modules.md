<!-- Old headings. Do not remove or links may break. -->

<a id="managing-growing-projects-with-packages-crates-and-modules"></a>

# الحزم، الصناديق، والوحدات

مع كتابة البرامج الكبيرة، سيصبح تنظيم الكود الخاص بك أكثر أهمية بشكل متزايد. من خلال تجميع الوظائف ذات الصلة وفصل الكود ذي الميزات المميزة، ستوضح أين تجد الكود الذي ينفذ ميزة معينة وأين تذهب لتغيير كيفية عمل الميزة.

البرامج التي كتبناها حتى الآن كانت في وحدة (module) واحدة في ملف واحد. مع نمو المشروع، يجب عليك تنظيم الكود عن طريق تقسيمه إلى وحدات (modules) متعددة ثم ملفات متعددة. يمكن أن تحتوي الحزمة (package) على صناديق (crates) ثنائية متعددة وصندوق (crate) مكتبة واحد اختيارياً. مع نمو الحزمة (package)، يمكنك استخراج أجزاء منها إلى صناديق (crates) منفصلة تصبح تبعيات خارجية. يغطي هذا الفصل كل هذه التقنيات. بالنسبة للمشاريع الكبيرة جداً التي تتكون من مجموعة من الحزم (packages) المترابطة التي تتطور معاً، يوفر Cargo مساحات العمل، والتي سنغطيها في [«مساحات عمل Cargo»][workspaces]<!-- ignore --> في الفصل 14.

سنناقش أيضاً تغليف تفاصيل التنفيذ، مما يتيح لك إعادة استخدام الكود على مستوى أعلى: بمجرد تنفيذ عملية ما، يمكن للكود الآخر استدعاء الكود الخاص بك عبر واجهته العامة (public) دون الحاجة إلى معرفة كيفية عمل التنفيذ. الطريقة التي تكتب بها الكود تحدد أي الأجزاء عامة (public) ليستخدمها الكود الآخر وأي الأجزاء هي تفاصيل تنفيذ خاصة (private) تحتفظ بحق تغييرها. هذه طريقة أخرى للحد من كمية التفاصيل التي يجب أن تحتفظ بها في رأسك.

المفهوم ذو الصلة هو النطاق (scope): السياق المتداخل الذي يُكتب فيه الكود له مجموعة من الأسماء المعرّفة على أنها «في النطاق (scope)». عند قراءة الكود أو كتابته أو تصريفه، يحتاج المبرمجون والمصرِّفون إلى معرفة ما إذا كان اسم معين في مكان معين يشير إلى متغير أو دالة أو هيكل أو تعداد أو وحدة (module) أو ثابت أو عنصر آخر وما يعنيه هذا العنصر. يمكنك إنشاء نطاقات (scopes) وتغيير الأسماء الموجودة داخل النطاق (scope) أو خارجه. لا يمكن أن يكون لديك عنصران بنفس الاسم في نفس النطاق (scope)؛ الأدوات متاحة لحل تعارضات الأسماء.

لدى Rust عدد من الميزات التي تسمح لك بإدارة تنظيم الكود الخاص بك، بما في ذلك التفاصيل المكشوفة والتفاصيل الخاصة والأسماء الموجودة في كل نطاق (scope) في برامجك. يشار إلى هذه الميزات، التي يُشار إليها أحياناً بشكل جماعي باسم _نظام الوحدات (module system)_، وتشمل:

- **الحزم (Packages)**: ميزة Cargo التي تتيح لك بناء واختبار ومشاركة الصناديق (crates)
- **الصناديق (Crates)**: شجرة من الوحدات (modules) التي تنتج مكتبة أو ملف تنفيذي
- **الوحدات (Modules) و use**: تتيح لك التحكم في التنظيم والنطاق (scope) والخصوصية (privacy) للمسارات (paths)
- **المسارات (Paths)**: طريقة لتسمية عنصر، مثل هيكل أو دالة أو وحدة (module)

في هذا الفصل، سنغطي كل هذه الميزات، ونناقش كيفية تفاعلها، ونشرح كيفية استخدامها لإدارة النطاق (scope). بحلول النهاية، يجب أن يكون لديك فهم قوي لنظام الوحدات (module system) وأن تكون قادراً على العمل مع النطاقات (scopes) كمحترف!

[workspaces]: ch14-03-cargo-workspaces.html
