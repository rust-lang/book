# یک پروژه ورودی/خروجی: ساخت یک برنامه خط فرمان

این فصل مروری بر بسیاری از مهارت‌هایی است که تا کنون آموخته‌اید و همچنین بررسی چند ویژگی دیگر از کتابخانه استاندارد. ما یک ابزار خط فرمان خواهیم ساخت که با ورودی/خروجی فایل و خط فرمان تعامل می‌کند تا برخی از مفاهیم Rust را که اکنون در اختیار دارید تمرین کنیم.

سرعت، ایمنی، خروجی تک‌باینری و پشتیبانی چند‌پلتفرمی Rust، آن را به زبانی ایده‌آل برای ایجاد ابزارهای خط فرمان تبدیل می‌کند. بنابراین برای پروژه خود، نسخه‌ای از ابزار جستجوی خط فرمان کلاسیک `grep` (**g**lobally search a **r**egular **e**xpression and **p**rint) را خواهیم ساخت. در ساده‌ترین حالت، `grep` یک فایل مشخص را برای یک رشته مشخص جستجو می‌کند. برای انجام این کار، `grep` به عنوان آرگومان‌های خود مسیر فایل و یک رشته را دریافت می‌کند. سپس فایل را می‌خواند، خطوطی که شامل آرگومان رشته هستند را پیدا می‌کند و آن خطوط را چاپ می‌کند.

در طول مسیر، نشان خواهیم داد که چگونه ابزار خط فرمان ما از ویژگی‌های ترمینال استفاده کند که بسیاری از ابزارهای خط فرمان دیگر از آن‌ها استفاده می‌کنند. مقدار یک متغیر محیطی را برای اجازه به کاربر برای پیکربندی رفتار ابزار خود می‌خوانیم. همچنین پیام‌های خطا را به جریان کنسول خطای استاندارد (`stderr`) به جای خروجی استاندارد (`stdout`) چاپ می‌کنیم تا مثلاً کاربر بتواند خروجی موفقیت‌آمیز را به یک فایل هدایت کند در حالی که هنوز پیام‌های خطا را روی صفحه مشاهده می‌کند.

یکی از اعضای جامعه Rust، Andrew Gallant، نسخه‌ای کامل، بسیار سریع از `grep` به نام `ripgrep` ایجاد کرده است. در مقایسه، نسخه ما نسبتاً ساده خواهد بود، اما این فصل به شما برخی از دانش‌های پایه‌ای که برای درک پروژه‌های واقعی مانند `ripgrep` نیاز دارید را خواهد داد.

پروژه `grep` ما ترکیبی از تعدادی مفاهیمی است که تاکنون آموخته‌اید:

- سازماندهی کد ([فصل ۷][ch7]<!-- ignore -->)
- استفاده از بردارها و رشته‌ها ([فصل ۸][ch8]<!-- ignore -->)
- مدیریت خطاها ([فصل ۹][ch9]<!-- ignore -->)
- استفاده از صفات و طول عمرها در موارد مناسب ([فصل ۱۰][ch10]<!-- ignore -->)
- نوشتن تست‌ها ([فصل ۱۱][ch11]<!-- ignore -->)

همچنین به طور مختصر به معرفی closures، iterators، و trait objects می‌پردازیم که به طور کامل در [فصل ۱۳][ch13]<!-- ignore --> و [فصل ۱۸][ch18]<!-- ignore --> پوشش داده خواهند شد.

[ch7]: ch07-00-managing-growing-projects-with-packages-crates-and-modules.html  
[ch8]: ch08-00-common-collections.html  
[ch9]: ch09-00-error-handling.html  
[ch10]: ch10-00-generics.html  
[ch11]: ch11-00-testing.html  
[ch13]: ch13-00-functional-features.html  
[ch18]: ch18-00-oop.html  
