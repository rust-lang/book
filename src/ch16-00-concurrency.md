# التزامن بلا خوف (Fearless Concurrency)

التعامل مع البرمجة المتزامنة (concurrent programming) بشكل آمن وفعال هو أحد الأهداف الرئيسية لـ Rust.
البرمجة المتزامنة (Concurrent programming)، التي تُنفذ فيها أجزاء مختلفة من البرنامج بشكل مستقل، والبرمجة المتوازية (Parallel programming)، التي تُنفذ فيها أجزاء مختلفة من البرنامج في نفس الوقت، أصبحتا أكثر أهمية مع استفادة المزيد من أجهزة الكمبيوتر من معالجاتها المتعددة. تاريخياً، كانت البرمجة في هذه السياقات صعبة وعرضة للأخطاء. تأمل Rust في تغيير ذلك.

في البداية، اعتقد فريق Rust أن ضمان أمان الذاكرة ومنع مشاكل التزامن كانا تحديين منفصلين يجب حلهما بطرق مختلفة. مع مرور الوقت، اكتشف الفريق أن نظام الملكية (Ownership) ونظام الأنواع (Type System) هما مجموعة أدوات قوية للمساعدة في إدارة أمان الذاكرة ومشاكل التزامن! من خلال الاستفادة من الملكية والتحقق من الأنواع، تصبح العديد من أخطاء التزامن أخطاء وقت الترجمة في Rust بدلاً من أخطاء وقت التشغيل. لذلك، بدلاً من جعلك تقضي الكثير من الوقت في محاولة إعادة إنتاج الظروف الدقيقة التي يحدث فيها خطأ تزامن وقت التشغيل، فإن الكود غير الصحيح سيرفض الترجمة ويقدم خطأ يشرح المشكلة. نتيجة لذلك، يمكنك إصلاح كودك أثناء العمل عليه بدلاً من إصلاحه بعد شحنه إلى الإنتاج. لقد أطلقنا على هذا الجانب من Rust اسم التزامن بلا خوف (Fearless Concurrency). يتيح لك التزامن بلا خوف كتابة كود خالٍ من الأخطاء الدقيقة ويسهل إعادة هيكلته دون إدخال أخطاء جديدة.

> ملاحظة: من أجل البساطة، سنشير إلى العديد من المشاكل على أنها متزامنة (Concurrent) بدلاً من أن نكون أكثر دقة بقول متزامنة و/أو متوازية (Concurrent and/or Parallel). في هذا الفصل، يرجى الاستبدال ذهنياً بـ "متزامنة و/أو متوازية" كلما استخدمنا "متزامنة". في الفصل التالي، حيث يكون التمييز أكثر أهمية، سنكون أكثر تحديداً.

العديد من اللغات متعصبة للحلول التي تقدمها للتعامل مع المشاكل المتزامنة. على سبيل المثال، تحتوي Erlang على وظائف أنيقة لتزامن تمرير الرسائل (Message-passing) ولكن لديها فقط طرق غامضة لمشاركة الحالة بين الخيوط (Threads). يعد دعم مجموعة فرعية فقط من الحلول الممكنة استراتيجية معقولة للغات عالية المستوى لأن لغة عالية المستوى تعد بفوائد من التخلي عن بعض السيطرة للحصول على التجريدات. ومع ذلك، من المتوقع أن توفر اللغات منخفضة المستوى الحل بأفضل أداء في أي موقف معين ولديها تجريدات أقل على الأجهزة. لذلك، تقدم Rust مجموعة متنوعة من الأدوات لنمذجة المشاكل بأي طريقة مناسبة لوضعك ومتطلباتك.

إليك المواضيع التي سنغطيها في هذا الفصل:

- كيفية إنشاء خيوط (Threads) لتشغيل أجزاء متعددة من الكود في نفس الوقت
- تزامن تمرير الرسائل (Message-passing)، حيث ترسل القنوات (Channels) رسائل بين الخيوط
- تزامن الحالة المشتركة (Shared-state)، حيث يكون للخيوط المتعددة وصول إلى بعض البيانات
- سِمات (Traits) `Sync` و `Send`، التي تمد ضمانات التزامن في Rust إلى الأنواع المعرفة من قبل المستخدم وكذلك الأنواع المقدمة من المكتبة القياسية
