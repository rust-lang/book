## التثبيت

الخطوة الأولى هي تثبيت Rust. سنقوم بتنزيل Rust من خلال `rustup`، وهي أداة سطر أوامر لإدارة إصدارات Rust والأدوات المرتبطة بها. ستحتاج إلى اتصال بالإنترنت للتنزيل.

> ملاحظة: إذا كنت تفضل عدم استخدام `rustup` لسبب ما، يرجى الاطلاع على [صفحة طرق تثبيت Rust الأخرى][otherinstall] لمزيد من الخيارات.

تقوم الخطوات التالية بتثبيت أحدث إصدار مستقر من مترجم Rust. تضمن ضمانات الاستقرار في Rust أن جميع الأمثلة في الكتاب التي يتم تجميعها ستستمر في التجميع مع إصدارات Rust الأحدث. قد يختلف الناتج قليلاً بين الإصدارات لأن Rust غالباً ما يحسّن رسائل الأخطاء والتحذيرات. بعبارة أخرى، أي إصدار أحدث ومستقر من Rust تقوم بتثبيته باستخدام هذه الخطوات يجب أن يعمل كما هو متوقع مع محتوى هذا الكتاب.

> ### تدوين سطر الأوامر
>
> في هذا الفصل وعبر الكتاب، سنعرض بعض الأوامر المستخدمة في الطرفية. الأسطر التي يجب عليك إدخالها في الطرفية تبدأ جميعها بـ `$`. لا تحتاج إلى كتابة حرف `$`؛ إنه موجه سطر الأوامر المعروض للإشارة إلى بداية كل أمر. الأسطر التي لا تبدأ بـ `$` عادةً ما تعرض ناتج الأمر السابق. بالإضافة إلى ذلك، الأمثلة الخاصة بـ PowerShell ستستخدم `>` بدلاً من `$`.

### تثبيت `rustup` على Linux أو macOS

إذا كنت تستخدم Linux أو macOS، افتح طرفية وأدخل الأمر التالي:

```console
$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

يقوم الأمر بتنزيل برنامج نصي ويبدأ تثبيت أداة `rustup`، والتي تقوم بتثبيت أحدث إصدار مستقر من Rust. قد يُطلب منك إدخال كلمة المرور الخاصة بك. إذا كان التثبيت ناجحاً، سيظهر السطر التالي:

```text
Rust is installed now. Great!
```

ستحتاج أيضاً إلى _رابط (linker)_، وهو برنامج يستخدمه Rust لضم مخرجاته المجمعة في ملف واحد. من المحتمل أن يكون لديك واحد بالفعل. إذا حصلت على أخطاء رابط، يجب عليك تثبيت مترجم C، والذي عادةً ما يتضمن رابطاً. مترجم C مفيد أيضاً لأن بعض حزم Rust الشائعة تعتمد على كود C وستحتاج إلى مترجم C.

على macOS، يمكنك الحصول على مترجم C عن طريق تشغيل:

```console
$ xcode-select --install
```

يجب على مستخدمي Linux عموماً تثبيت GCC أو Clang، وفقاً لوثائق توزيعتهم. على سبيل المثال، إذا كنت تستخدم Ubuntu، يمكنك تثبيت حزمة `build-essential`.

### تثبيت `rustup` على Windows

على Windows، انتقل إلى [https://www.rust-lang.org/tools/install][install]<!-- ignore --> واتبع التعليمات لتثبيت Rust. في مرحلة ما من التثبيت، سيُطلب منك تثبيت Visual Studio. يوفر هذا رابطاً والمكتبات الأصلية اللازمة لتجميع البرامج. إذا كنت بحاجة إلى مزيد من المساعدة في هذه الخطوة، راجع [https://rust-lang.github.io/rustup/installation/windows-msvc.html][msvc]<!-- ignore -->.

يستخدم بقية هذا الكتاب أوامر تعمل في كل من _cmd.exe_ و PowerShell. إذا كانت هناك اختلافات محددة، سنوضح أيهما تستخدم.

### استكشاف الأخطاء وإصلاحها

للتحقق من تثبيت Rust بشكل صحيح، افتح shell وأدخل هذا السطر:

```console
$ rustc --version
```

يجب أن ترى رقم الإصدار وhash الالتزام وتاريخ الالتزام لأحدث إصدار مستقر تم إصداره، بالتنسيق التالي:

```text
rustc x.y.z (abcabcabc yyyy-mm-dd)
```

إذا رأيت هذه المعلومات، فقد قمت بتثبيت Rust بنجاح! إذا لم ترَ هذه المعلومات، تحقق من أن Rust موجود في متغير النظام `%PATH%` الخاص بك كما يلي.

في Windows CMD، استخدم:

```console
> echo %PATH%
```

في PowerShell، استخدم:

```powershell
> echo $env:Path
```

في Linux و macOS، استخدم:

```console
$ echo $PATH
```

إذا كان كل ذلك صحيحاً ولا يزال Rust لا يعمل، فهناك عدد من الأماكن التي يمكنك الحصول فيها على المساعدة. اكتشف كيفية التواصل مع Rustaceans الآخرين (لقب سخيف نطلقه على أنفسنا) على [صفحة المجتمع][community].

### التحديث وإلغاء التثبيت

بمجرد تثبيت Rust عبر `rustup`، يكون التحديث إلى إصدار جديد أمراً سهلاً. من shell الخاص بك، قم بتشغيل البرنامج النصي للتحديث التالي:

```console
$ rustup update
```

لإلغاء تثبيت Rust و `rustup`، قم بتشغيل البرنامج النصي التالي لإلغاء التثبيت من shell الخاص بك:

```console
$ rustup self uninstall
```

<!-- Old headings. Do not remove or links may break. -->
<a id="local-documentation"></a>

### قراءة التوثيق المحلي

يتضمن تثبيت Rust أيضاً نسخة محلية من التوثيق حتى تتمكن من قراءته دون اتصال بالإنترنت. قم بتشغيل `rustup doc` لفتح التوثيق المحلي في متصفحك.

في أي وقت يتم توفير نوع أو دالة بواسطة المكتبة القياسية ولست متأكداً مما تفعله أو كيفية استخدامها، استخدم توثيق واجهة برمجة التطبيقات (API) لمعرفة ذلك!

<!-- Old headings. Do not remove or links may break. -->
<a id="text-editors-and-integrated-development-environments"></a>

### استخدام محررات النصوص وبيئات التطوير المتكاملة

لا يفترض هذا الكتاب أي شيء حول الأدوات التي تستخدمها لكتابة كود Rust. تقريباً أي محرر نصوص سيؤدي المهمة! ومع ذلك، فإن العديد من محررات النصوص وبيئات التطوير المتكاملة (IDEs) لديها دعم مدمج لـ Rust. يمكنك دائماً العثور على قائمة حديثة إلى حد ما بالعديد من المحررات وبيئات التطوير المتكاملة على [صفحة الأدوات][tools] على موقع Rust.

### العمل دون اتصال بالإنترنت مع هذا الكتاب

في العديد من الأمثلة، سنستخدم حزم Rust تتجاوز المكتبة القياسية. للعمل من خلال تلك الأمثلة، ستحتاج إما إلى اتصال بالإنترنت أو تنزيل تلك التبعيات مسبقاً. لتنزيل التبعيات مسبقاً، يمكنك تشغيل الأوامر التالية. (سنشرح ما هو `cargo` وماذا يفعل كل من هذه الأوامر بالتفصيل لاحقاً.)

```console
$ cargo new get-dependencies
$ cd get-dependencies
$ cargo add rand@0.8.5 trpl@0.2.0
```

سيؤدي هذا إلى تخزين التنزيلات مؤقتاً لهذه الحزم حتى لا تحتاج إلى تنزيلها لاحقاً. بمجرد تشغيل هذا الأمر، لا تحتاج إلى الاحتفاظ بمجلد `get-dependencies`. إذا قمت بتشغيل هذا الأمر، يمكنك استخدام العلامة `--offline` مع جميع أوامر `cargo` في بقية الكتاب لاستخدام هذه الإصدارات المخزنة مؤقتاً بدلاً من محاولة استخدام الشبكة.

[otherinstall]: https://forge.rust-lang.org/infra/other-installation-methods.html
[install]: https://www.rust-lang.org/tools/install
[msvc]: https://rust-lang.github.io/rustup/installation/windows-msvc.html
[community]: https://www.rust-lang.org/community
[tools]: https://www.rust-lang.org/tools
